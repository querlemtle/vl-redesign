"use strict";(self.webpackChunkvl_redesign=self.webpackChunkvl_redesign||[]).push([[198],{6709:function(a,e,t){t.d(e,{A:function(){return c}});var s=t(4976),i=t(3721),n=t(4848);const{btn:r,btn__img:d}={btn:"btn_FPIYEi",btn__img:"btn__img_OEybO1"};function c(){return(0,n.jsx)(s.N_,{to:"/cart",className:r,children:(0,n.jsx)("img",{src:i.Q,alt:"購物車按鈕",className:d})})}},36:function(a,e){e.A=[{productId:"wFARMs",productName:"夢姬飯友",price:150,variants:[{variantId:"wFARMs_0",name:"湯匙"}],images:["https://res.cloudinary.com/dsme7klzf/image/upload/v1717057619/vblj66pfxoa2e8yklay6.png"],details:["尺寸：6cm"]},{productId:"3arbQF",productName:"夢姬海報",price:500,variants:[{variantId:"3arbQF_0",name:"凝視"},{variantId:"3arbQF_1",name:"坐姿"}],images:["https://res.cloudinary.com/dsme7klzf/image/upload/v1717077864/cqhy1dajwbbibrjz7tz3.png","https://res.cloudinary.com/dsme7klzf/image/upload/v1717077942/nj1ieul8j94tyuduyiak.png","https://res.cloudinary.com/dsme7klzf/image/upload/v1717077891/b6ooedpjkxssgdfqjhuz.png"],details:["尺寸：50cm x 80cm"]},{productId:"kwxsxr",productName:"魔王Q貼",price:100,variants:[{variantId:"kwxsxr_0",name:"日常表情包"}],images:["https://res.cloudinary.com/dsme7klzf/image/upload/v1717057452/gfmetn4m44wgcyb6jpmo.png"],details:["7 張貼紙"]},{productId:"ROh1oK",productName:"胸章",price:50,variants:[{variantId:"ROh1oK_0",name:"VTuber Online"},{variantId:"ROh1oK_1",name:"魔王"},{variantId:"ROh1oK_2",name:"小黑皮"},{variantId:"ROh1oK_3",name:"狼執事"},{variantId:"ROh1oK_4",name:"魔龍"}],images:["https://res.cloudinary.com/dsme7klzf/image/upload/v1717057452/vibi4vp9f90jcvhnw4pi.png"],details:["尺寸：5.5cm"]},{productId:"u9GwHz",productName:"香氛蠟燭",price:200,variants:[{variantId:"u9GwHz_0",name:"深淵薄荷"},{variantId:"u9GwHz_1",name:"彼岸玫瑰"},{variantId:"u9GwHz_2",name:"地獄沉木"}],images:["https://res.cloudinary.com/dsme7klzf/image/upload/v1717077602/grqd2zgek7e0mz6op4zx.png"],details:["款式：狼煙-深淵薄荷(狼執事 夜神遂心) / 龍芯-彼岸玫瑰(魔龍 花川夢姬) / 魔域-地獄沉木(魔王 桑德斯闇)","內容物：70ml"]},{productId:"4CWkdu",productName:"一期生T恤",price:680,variants:[{variantId:"4CWkdu_0",name:"S"},{variantId:"4CWkdu_1",name:"M"},{variantId:"4CWkdu_2",name:"L"},{variantId:"4CWkdu_3",name:"XL"},{variantId:"4CWkdu_4",name:"3XL"}],images:["https://res.cloudinary.com/dsme7klzf/image/upload/v1717077737/t96fygpnb4vhhifwpihq.png"],details:["尺寸：S / M / L / XL / 3XL","材質：純棉"]},{productId:"jTYgOk",productName:"夢姬立牌",price:200,variants:[{variantId:"jTYgOk_0",name:"夢姬站姿"}],images:["https://res.cloudinary.com/dsme7klzf/image/upload/v1717057453/baubkg6fnw4i3n7p2dqy.png"],details:["尺寸：9X9公分","材質：壓克力"]},{productId:"KO3HsE",productName:"夜神立牌",price:200,variants:[{variantId:"KO3HsE_0",name:"狼執事站姿"}],images:["https://res.cloudinary.com/dsme7klzf/image/upload/v1717077840/lqnrxfutthgsvofk1znf.png"],details:["尺寸：9X9公分","材質：壓克力"]},{productId:"kdlh8M",productName:"桑德斯立牌",price:200,variants:[{variantId:"kdlh8M_0",name:"魔王坐姿"}],images:["https://res.cloudinary.com/dsme7klzf/image/upload/v1717057619/xgyh7pn7d3f5p02czkpz.png"],details:["尺寸：9X9公分","材質：壓克力"]}]},8198:function(a,e,t){t.r(e),t.d(e,{default:function(){return S}});var s=t(6709),i=t(3721),n=t(4848);const{toast:r}={toast:"toast_Xhd1Vx"};function d(){return(0,n.jsxs)("div",{className:r,children:[(0,n.jsx)("img",{src:i.DU,alt:"success"}),(0,n.jsx)("h3",{children:"商品已成功加入購物車!"})]})}var c=t(6540),l=t(7767),m=t(36);const{main:o,grid:u,row:p,title:v,img:g,"img--s":h,list:I,"list-square":b,list__title:_,sublist:f,"sublist--between":x,btn:j,"btn--fill":N,"btn--border":k,"btn--stretch":w,divider:y,select:z,clickable:O}={main:"main_BTYrDM",grid:"grid_Gtl8UR",row:"row__hlbDK",img:"img_jtFOI4","img--s":"img--s_sUa500",title:"title_tJMYqh",list:"list_fbF9QT","list-square":"list-square_IH3acv",list__title:"list__title_TpZLTH",sublist:"sublist_fbXQqU","sublist--between":"sublist--between_QFh93v",select:"select_yp3QHI",btn:"btn_m_g8nC","btn--stretch":"btn--stretch_fkADem","btn--fill":"btn--fill_WBtbJ4","btn--border":"btn--border_Sn4jN5",divider:"divider_XHKnDm",clickable:"clickable_E2uT7E"};function S(){const{productId:a}=(0,l.g)(),e=(0,c.useRef)(),t=m.A.filter((e=>e.productId===a)),[i,r]=(0,c.useState)({...t[0]}),[S,$]=(0,c.useState)(i.images[0]),[q,T]=(0,c.useState)(i.variants.map(((a,e)=>({variantId:a.variantId,name:a.name,selected:0===e})))),[C,H]=(0,c.useState)(!1),[K,R]=(0,c.useState)(!1);function X(a){$(a.target.src)}function D(a){const e=q.findIndex((e=>e.name===a.target.textContent)),t=q.map(((a,t)=>({variantId:a.variantId,name:a.name,selected:t===e})));T(t)}return(0,n.jsx)("main",{className:o,children:(0,n.jsxs)("section",{className:u,children:[(0,n.jsxs)("aside",{children:[(0,n.jsx)("div",{className:g,children:(0,n.jsx)("img",{src:S,alt:i.name})}),(0,n.jsx)("div",{className:p,children:i.images.map(((a,e)=>(0,n.jsx)("img",{src:a,alt:`預覽圖${e+1}`,className:`${h} ${g} ${O}`,onPointerDown:X},e)))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:v,children:i.productName}),(0,n.jsxs)("h3",{children:["NT$",(0,n.jsx)("span",{children:i.price})]}),(0,n.jsxs)("ul",{className:I,children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("p",{className:_,children:"規格"}),(0,n.jsx)("ul",{className:f,children:q.map((a=>(0,n.jsx)("li",{className:`${j} ${O} ${a.selected?N:k}`,onPointerDown:D,children:a.name},a.name)))})]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("p",{className:_,children:"數量"}),(0,n.jsxs)("div",{className:`${f} ${x}`,children:[(0,n.jsxs)("select",{name:"quantity",className:z,title:"選擇購買數量",ref:e,children:[(0,n.jsx)("option",{value:"1",children:"1"}),(0,n.jsx)("option",{value:"2",children:"2"}),(0,n.jsx)("option",{value:"3",children:"3"})]}),(0,n.jsx)("button",{type:"button",className:`${j} ${N} ${w} ${O}`,onPointerDown:function(a){a.preventDefault();const s=q.find((a=>a.selected)),i=s.variantId,n=s.name,r=Number(e.current.value),d=JSON.parse(window.localStorage.getItem("cart"));try{if(R(!0),d){const a=d.findIndex((a=>a.productId===t[0].productId));if(-1===a){const a=d.concat([{productId:t[0].productId,productName:t[0].productName,productImage:t[0].images[0],price:t[0].price,variants:[{variantId:i,name:n,qty:r}]}]);window.localStorage.setItem("cart",JSON.stringify(a))}else{const e=d[a].variants.findIndex((a=>a.variantId===i));if(-1===e){const e=d[a].variants.concat([{variantId:i,name:n,qty:r}]),t={...d[a],variants:e},s=d.map(((e,s)=>s===a?{...t}:e));window.localStorage.setItem("cart",JSON.stringify(s))}else{const t=d[a].variants.map(((a,t)=>t===e?{...a,qty:a.qty+r}:a)),s={...d[a],variants:t},i=d.map(((e,t)=>t===a?{...s}:e));window.localStorage.setItem("cart",JSON.stringify(i))}}}else window.localStorage.setItem("cart",JSON.stringify([{productId:t[0].productId,productName:t[0].productName,productImage:t[0].images[0],price:t[0].price,variants:[{variantId:i,name:n,qty:r}]}]));H(!0),setTimeout((()=>{H(!1)}),1500)}catch(a){}R(!1)},disabled:K,children:"加入購物車"})]})]})]}),(0,n.jsx)("h4",{className:`${y} ${_}`,children:"購買須知"}),(0,n.jsxs)("ul",{className:b,children:[(0,n.jsx)("li",{children:"該商品為客製化商品，下單後不可取消。敬請於下單前確認。"}),(0,n.jsx)("li",{children:"待付費確認完成後，系統才會開始處理您的訂單，約7個工作天內出貨。"})]}),(0,n.jsx)("h4",{className:`${y} ${_}`,children:"商品詳情"}),(0,n.jsx)("ul",{className:b,children:i.details.map(((a,e)=>(0,n.jsx)("li",{children:a},e)))})]}),(0,n.jsx)(s.A,{}),C&&(0,n.jsx)(d,{})]})})}}}]);