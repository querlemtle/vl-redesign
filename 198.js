"use strict";(self.webpackChunkvl_redesign=self.webpackChunkvl_redesign||[]).push([[198],{6709:function(t,a,e){e.d(a,{A:function(){return m}});var s=e(4976),n=e(6038),i=e(5556),r=e.n(i),d=e(4848);const{btn:c,btn__img:l,btn__info:o}={btn:"btn_FPIYEi",btn__img:"btn__img_OEybO1",btn__info:"btn__info_4mvdox"};function m(t){let{totalQty:a}=t;return(0,d.jsxs)(s.N_,{to:"/cart",className:c,children:[(0,d.jsx)("img",{src:n.Q,alt:"購物車按鈕",className:l}),a?(0,d.jsx)("div",{className:o,children:(e=a,e?e>99?"99+":String(e):void 0)}):null]});var e}m.propTypes={totalQty:r().number.isRequired}},36:function(t,a){a.A=[{productId:"wFARMs",productName:"夢姬飯友",price:150,variants:[{variantId:"wFARMs_0",name:"湯匙"}],images:["https://res.cloudinary.com/dsme7klzf/image/upload/v1717057619/vblj66pfxoa2e8yklay6.png"],details:["尺寸：6cm"]},{productId:"3arbQF",productName:"夢姬海報",price:500,variants:[{variantId:"3arbQF_0",name:"凝視"},{variantId:"3arbQF_1",name:"坐姿"}],images:["https://res.cloudinary.com/dsme7klzf/image/upload/v1717077864/cqhy1dajwbbibrjz7tz3.png","https://res.cloudinary.com/dsme7klzf/image/upload/v1717077942/nj1ieul8j94tyuduyiak.png","https://res.cloudinary.com/dsme7klzf/image/upload/v1717077891/b6ooedpjkxssgdfqjhuz.png"],details:["尺寸：50cm x 80cm"]},{productId:"kwxsxr",productName:"魔王Q貼",price:100,variants:[{variantId:"kwxsxr_0",name:"日常表情包"}],images:["https://res.cloudinary.com/dsme7klzf/image/upload/v1717057452/gfmetn4m44wgcyb6jpmo.png"],details:["7 張貼紙"]},{productId:"ROh1oK",productName:"胸章",price:50,variants:[{variantId:"ROh1oK_0",name:"VTuber Online"},{variantId:"ROh1oK_1",name:"魔王"},{variantId:"ROh1oK_2",name:"小黑皮"},{variantId:"ROh1oK_3",name:"狼執事"},{variantId:"ROh1oK_4",name:"魔龍"}],images:["https://res.cloudinary.com/dsme7klzf/image/upload/v1717057452/vibi4vp9f90jcvhnw4pi.png"],details:["尺寸：5.5cm"]},{productId:"u9GwHz",productName:"香氛蠟燭",price:200,variants:[{variantId:"u9GwHz_0",name:"深淵薄荷"},{variantId:"u9GwHz_1",name:"彼岸玫瑰"},{variantId:"u9GwHz_2",name:"地獄沉木"}],images:["https://res.cloudinary.com/dsme7klzf/image/upload/v1717077602/grqd2zgek7e0mz6op4zx.png"],details:["款式：狼煙-深淵薄荷(狼執事 夜神遂心) / 龍芯-彼岸玫瑰(魔龍 花川夢姬) / 魔域-地獄沉木(魔王 桑德斯闇)","內容物：70ml"]},{productId:"4CWkdu",productName:"一期生T恤",price:680,variants:[{variantId:"4CWkdu_0",name:"S"},{variantId:"4CWkdu_1",name:"M"},{variantId:"4CWkdu_2",name:"L"},{variantId:"4CWkdu_3",name:"XL"},{variantId:"4CWkdu_4",name:"3XL"}],images:["https://res.cloudinary.com/dsme7klzf/image/upload/v1717077737/t96fygpnb4vhhifwpihq.png"],details:["尺寸：S / M / L / XL / 3XL","材質：純棉"]},{productId:"jTYgOk",productName:"夢姬立牌",price:200,variants:[{variantId:"jTYgOk_0",name:"夢姬站姿"}],images:["https://res.cloudinary.com/dsme7klzf/image/upload/v1717057453/baubkg6fnw4i3n7p2dqy.png"],details:["尺寸：9X9公分","材質：壓克力"]},{productId:"KO3HsE",productName:"夜神立牌",price:200,variants:[{variantId:"KO3HsE_0",name:"狼執事站姿"}],images:["https://res.cloudinary.com/dsme7klzf/image/upload/v1717077840/lqnrxfutthgsvofk1znf.png"],details:["尺寸：9X9公分","材質：壓克力"]},{productId:"kdlh8M",productName:"桑德斯立牌",price:200,variants:[{variantId:"kdlh8M_0",name:"魔王坐姿"}],images:["https://res.cloudinary.com/dsme7klzf/image/upload/v1717057619/xgyh7pn7d3f5p02czkpz.png"],details:["尺寸：9X9公分","材質：壓克力"]}]},8198:function(t,a,e){e.r(a),e.d(a,{default:function(){return F}});var s=e(6709),n=e(5556),i=e.n(n),r=e(6540),d=e(5880),c=e(821),l=e(4848);d.Ay.registerPlugin(c.L);const{toast:o,toast__icon:m,"toast__icon--success":u,"toast__icon--error":p}={toast:"toast_Xhd1Vx",toast__icon:"toast__icon_Fulpt4","toast__icon--success":"toast__icon--success_IxrUwy","toast__icon--error":"toast__icon--error_qymZSG"};function v(t){let{text:a,status:e}=t;const s=(0,r.useRef)();return(0,c.L)((()=>{d.Ay.fromTo(s.current,{x:100},{x:0,ease:"elastic.out(1, 0.5)"})})),(0,l.jsxs)("div",{className:o,ref:s,children:[(0,l.jsx)("div",{className:`${m} ${function(t){switch(t){case"success":return u;case"error":return p}}(e)}`}),(0,l.jsx)("h3",{children:a})]})}v.propTypes={text:i().string.isRequired,status:i().string.isRequired};var _=e(7767),g=e(6013),h=e(5718),f=e(36);const{main:x,grid:b,row:I,title:j,img:y,"img--s":N,list:w,"list-square":k,list__title:z,sublist:S,"sublist--between":q,btn:O,"btn--fill":Q,"btn--border":$,"btn--stretch":R,divider:T,select:A,clickable:C}={main:"main_BTYrDM",grid:"grid_Gtl8UR",row:"row__hlbDK",img:"img_jtFOI4","img--s":"img--s_sUa500",title:"title_tJMYqh",list:"list_fbF9QT","list-square":"list-square_IH3acv",list__title:"list__title_TpZLTH",sublist:"sublist_fbXQqU","sublist--between":"sublist--between_QFh93v",select:"select_yp3QHI",btn:"btn_m_g8nC","btn--stretch":"btn--stretch_fkADem","btn--fill":"btn--fill_WBtbJ4","btn--border":"btn--border_Sn4jN5",divider:"divider_XHKnDm",clickable:"clickable_E2uT7E"};function F(){const{productId:t}=(0,_.g)(),a=(0,r.useRef)(),e=f.A.find((a=>a.productId===t));if(!e)return(0,l.jsx)(h.A,{});const[n,i]=(0,r.useState)({...e}),[d,c]=(0,r.useState)(n.images[0]),[o,m]=(0,r.useState)(n.variants.map(((t,a)=>({variantId:t.variantId,name:t.name,selected:0===a})))),[u,p]=(0,r.useState)({isShown:!1,status:null,text:null}),[F,H]=(0,r.useState)(!1),K=(0,g.A)();function X(t){c(t.target.src)}function L(t){const a=o.findIndex((a=>a.name===t.target.textContent)),e=o.map(((t,e)=>({variantId:t.variantId,name:t.name,selected:e===a})));m(e)}function D(t,a){p({isShown:!0,status:t,text:a}),setTimeout((()=>{p({...u,isShown:!1})}),1e3)}return(0,l.jsx)("main",{className:x,children:(0,l.jsxs)("section",{className:b,children:[(0,l.jsxs)("aside",{children:[(0,l.jsx)("div",{className:y,children:(0,l.jsx)("img",{src:d,alt:n.name})}),(0,l.jsx)("div",{className:I,children:n.images.map(((t,a)=>(0,l.jsx)("img",{src:t,alt:`預覽圖${a+1}`,className:`${N} ${y} ${C}`,onPointerDown:X},a)))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:j,children:n.productName}),(0,l.jsxs)("h3",{children:["NT$",(0,l.jsx)("span",{children:n.price})]}),(0,l.jsxs)("ul",{className:w,children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("p",{className:z,children:"規格"}),(0,l.jsx)("ul",{className:S,children:o.map((t=>(0,l.jsx)("li",{className:`${O} ${C} ${t.selected?Q:$}`,onPointerDown:L,children:t.name},t.name)))})]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("p",{className:z,children:"數量"}),(0,l.jsxs)("div",{className:`${S} ${q}`,children:[(0,l.jsxs)("select",{name:"quantity",className:A,title:"選擇購買數量",ref:a,children:[(0,l.jsx)("option",{value:"1",children:"1"}),(0,l.jsx)("option",{value:"2",children:"2"}),(0,l.jsx)("option",{value:"3",children:"3"}),(0,l.jsx)("option",{value:"4",children:"4"}),(0,l.jsx)("option",{value:"5",children:"5"})]}),(0,l.jsx)("button",{type:"button",className:`${O} ${Q} ${R} ${C} ${F&&"disabled"}`,onPointerDown:function(t){t.preventDefault();const s=o.find((t=>t.selected)),n=s.variantId,i=s.name,r=Number(a.current.value);H(!0);try{if(K.data){const t=K.data.findIndex((t=>t.productId===e.productId));if(-1===t){const t={totalQty:K.totalQty+r,data:K.data.concat([{productId:e.productId,productName:e.productName,productImage:e.images[0],price:e.price,variants:[{variantId:n,name:i,qty:r}]}])};window.localStorage.setItem("cart",JSON.stringify(t))}else{const a=K.data[t].variants.findIndex((t=>t.variantId===n));if(-1===a){const a={...K.data[t],variants:K.data[t].variants.concat([{variantId:n,name:i,qty:r}])},e={totalQty:K.totalQty+r,data:K.data.map(((e,s)=>s===t?{...a}:e))};window.localStorage.setItem("cart",JSON.stringify(e))}else{const e={...K.data[t],variants:K.data[t].variants.map(((t,e)=>e===a?{...t,qty:t.qty+r}:t))},s={totalQty:K.totalQty+r,data:K.data.map(((a,s)=>s===t?{...e}:a))};window.localStorage.setItem("cart",JSON.stringify(s))}}}else window.localStorage.setItem("cart",JSON.stringify({totalQty:r,data:[{productId:e.productId,productName:e.productName,productImage:e.images[0],price:e.price,variants:[{variantId:n,name:i,qty:r}]}]}));D("success","商品已成功加入購物車！")}catch(t){D("error","商品加入購物車失敗")}H(!1)},children:"加入購物車"})]})]})]}),(0,l.jsx)("h4",{className:`${T} ${z}`,children:"購買須知"}),(0,l.jsxs)("ul",{className:k,children:[(0,l.jsx)("li",{children:"該商品為客製化商品，下單後不可取消。敬請於下單前確認。"}),(0,l.jsx)("li",{children:"待付費確認完成後，系統才會開始處理您的訂單，約7個工作天內出貨。"})]}),(0,l.jsx)("h4",{className:`${T} ${z}`,children:"商品詳情"}),(0,l.jsx)("ul",{className:k,children:n.details.map(((t,a)=>(0,l.jsx)("li",{children:t},a)))})]}),(0,l.jsx)(s.A,{totalQty:K.totalQty}),u.isShown&&(0,l.jsx)(v,{text:u.text,status:u.status})]})})}},6013:function(t,a,e){function s(){const t=JSON.parse(window.localStorage.getItem("cart"));return!t||function(t){for(const a in t)if(Object.hasOwn(t,a))return!1;return!0}(t)?{totalQty:0,data:null}:t}e.d(a,{A:function(){return s}})}}]);