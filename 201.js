"use strict";(self.webpackChunkvl_redesign=self.webpackChunkvl_redesign||[]).push([[201],{5201:function(e,s,i){i.r(s),i.d(s,{default:function(){return q}});var t="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIHZpZXdCb3g9IjAgMCAyMiAyMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0yMC42IDFMMS40IDIxTTIxIDIwLjZMMSAxLjQiIHN0cm9rZT0iIzExMkU0NCIgc3Ryb2tlLW9wYWNpdHk9IjAuODUiLz4NCjwvc3ZnPg0K",c=i(4976),a=i(5556),n=i.n(a),r=i(6540),d=i(4848);const{"section-center":l,col:o,grid:_,"grid--wrap":m,section__title:u,card:h,card__item:p,"text--accent":j,aside:x,aside__body:g,aside__container:I,aside__title:N,aside__accent:f,btn:v,"btn--fill":b,link:y,msg:w}={"section-center":"section-center_XY9Wdq",section__title:"section__title_FGKz5U",grid:"grid_taKzam",card:"card_xRQyPW","grid--wrap":"grid--wrap_aiY_E1",col:"col_GUGw_W",card__item:"card__item_hEq7lL","text--accent":"text--accent__dSGyN",aside:"aside_S1ot1U",aside__container:"aside__container_MsB0p8",aside__title:"aside__title_q9vCc4",aside__body:"aside__body_Jg3WeW",aside__accent:"aside__accent_QVp1jh",btn:"btn_XyMACa","btn--fill":"btn--fill_nRvFhg",link:"link_SbXTfT",msg:"msg_F3Ba2b"};function M(){return(0,d.jsxs)("div",{className:w,children:[(0,d.jsx)("h3",{children:"購物車中還沒有任何商品！"}),(0,d.jsx)(c.N_,{to:"/shop",className:`${v} ${b}`,children:"前往選購"})]})}function $(e){let{productId:s,productImage:i,productName:c,price:a,variants:n,deleteItem:l}=e;return(0,d.jsxs)("div",{className:h,children:[(0,d.jsx)("img",{src:i,alt:c}),(0,d.jsxs)("div",{className:o,children:[(0,d.jsx)("h3",{children:c}),(0,d.jsx)("div",{className:`${_} ${m}`,children:n.map((e=>(0,d.jsxs)(r.Fragment,{children:[(0,d.jsxs)("div",{className:`${o} ${p}`,children:[(0,d.jsx)("span",{children:"規格"}),(0,d.jsx)("p",{children:e.name})]}),(0,d.jsxs)("div",{className:`${o} ${p}`,children:[(0,d.jsx)("span",{children:"數量"}),(0,d.jsx)("p",{children:e.qty})]})]},e.variantId)))}),(0,d.jsx)("span",{className:j,children:"商品預購期約14-30天不等，較難提供確切到貨時間還請見諒。"})]}),(0,d.jsxs)("h4",{children:["NT$",(0,d.jsx)("span",{children:function(e,s){if(!s||0===s.length)return;let i=0;for(const t of s)i+=e*t.qty;return i}(a,n)})]}),(0,d.jsx)("button",{type:"button",className:v,onPointerDown:()=>l(s),children:(0,d.jsx)("img",{src:t,alt:"刪除商品按鈕"})})]})}function q(){const e=JSON.parse(window.localStorage.getItem("cart"));let s=!e||0===e.length;function i(e){if(!e||0===e.length)return;let s=0;for(const i of e)i.variants.forEach((e=>s+=i.price*e.qty));return s}function t(s){const t=e.filter((e=>e.productId!==s));window.localStorage.setItem("cart",JSON.stringify(t)),n(t),m(i(t))}const[a,n]=(0,r.useState)(e),[o,m]=(0,r.useState)((()=>i(a)));return(0,d.jsxs)("section",{className:l,children:[(0,d.jsx)("h2",{className:u,children:"購物車內容"}),s?(0,d.jsx)(M,{}):(0,d.jsxs)("div",{className:_,children:[(0,d.jsx)("div",{children:a.map((e=>(0,d.jsx)($,{productId:e.productId,productImage:e.productImage,productName:e.productName,variants:e.variants,price:e.price,deleteItem:t},e.productId)))}),(0,d.jsxs)("aside",{className:x,children:[(0,d.jsxs)("div",{className:I,children:[(0,d.jsx)("p",{className:N,children:"訂單金額確認"}),(0,d.jsxs)("div",{className:`${_} ${g}`,children:[(0,d.jsx)("p",{children:"購物車總計"}),(0,d.jsxs)("p",{className:f,children:["NT$",(0,d.jsx)("span",{children:o})]})]}),(0,d.jsx)(c.N_,{to:"/checkout",className:`${v} ${b}`,children:"前往結帳"})]}),(0,d.jsx)(c.N_,{to:"/shop",className:y,children:"繼續選購"})]})]})]})}$.propTypes={productId:n().string.isRequired,productImage:n().string.isRequired,productName:n().string.isRequired,price:n().number.isRequired,variants:n().array.isRequired,deleteItem:n().func.isRequired}}}]);